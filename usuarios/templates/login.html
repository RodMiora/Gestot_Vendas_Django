{% load static %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{% static 'usuarios/css/usuarios.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'usuarios/css/login.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock %}

{% block body %}
    <div class="grid">
        <h1 class="login__title login__title-gestor">Gestor de Vendas</h1>
        <h2 class="login__title login__title-gestor"><span class="by-lowercase">by</span> Rodrigo</h2>

        <form action="{% url 'login' %}" method="post" class="form login">
            {% csrf_token %}
            <header class="login__header">
                <h3 class="login__title">LOGIN</h3>
            </header>
        
            <div class="login__body">
                {% if messages %}
                    <br>
                    {% for message in messages %}
                        <section class="alert {{ message.tags }}">  
                            {{ message }}
                        </section>
                    {% endfor %}
                {% endif %}
        
                <div class="form__field">
                    <label for="username">Usuário:</label>
                    <div class="input-box">
                        <input type="text" placeholder="Nome de usuário" name="username" id="username" required>
                    </div>
                </div>
            
                <div class="form__field">
                    <label for="password">Senha:</label>
                    <div class="input-box">
                        <input type="password" placeholder="Senha" name="password" id="password" class="password-field" required>
                        <span class="password-toggle-icon" onclick="togglePassword('password')">
                            <i class="far fa-eye"></i>
                        </span>
                    </div>
                </div>
            </div>
        
            <footer class="login__footer">
                <input type="submit" value="Entrar" class="btn btn-success">
                <a href="{% url 'cadastro' %}" class="btn btn-dark-color-outline">Não possuo uma conta</a>
            </footer>
        
            <footer class="contact-footer">
                <p>Produzido por: Rodrigo Miorini <a href="https://github.com/RodMiora/Gestot_Vendas_Django.git" target="_blank"><i class="fab fa-github"></i></a> RodMiora</p>
                <p>Contato: rodrigomiorin@gmail.com</p>
            </footer>
        </form>
        
        <script>
            function togglePassword() {
                var passwordField = document.getElementById('password');
                var icon = document.querySelector('.password-toggle-icon i');
        
                if (passwordField.type === "password") {
                    passwordField.type = "text";
                    icon.classList.remove('fa-eye');
                    icon.classList.add('fa-eye-slash');
                } else {
                    passwordField.type = "password";
                    icon.classList.remove('fa-eye-slash');
                    icon.classList.add('fa-eye');
                }
            }
        </script>
        
{% endblock %}
